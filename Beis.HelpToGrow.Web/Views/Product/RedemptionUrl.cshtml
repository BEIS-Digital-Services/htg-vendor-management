@using Beis.HelpToGrow.Web.Constants
@model RedemptionUrlViewModel
@{
    ViewData["Title"] = "Redemption URL";
}

@section Authentication {
    <partial name="_Authentication" />
}

<a class="govuk-back-link" href="@Url.RouteUrl(RouteNameConstants.SoftwareHomeGet, new { id = Model.ProductId }, @Context.Request.Scheme)">
    Back
</a>

<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
        <form class="form" autocomplete="off" method="post">
            @*<input type="hidden" id="userId" name="userId" value="@Model.UserId" />*@
            @Html.HiddenFor(Model => Model.ProductId)
            <div class="govuk-form-group">
                <fieldset class="govuk-fieldset">
                    <legend class="govuk-fieldset__legend govuk-fieldset__legend--l">
                        <h1 class="govuk-fieldset__heading govuk-!-margin-bottom-5">
                            Voucher redemption link
                            <span class="govuk-caption-l">@Model.ProductName</span>
                        </h1>
                    </legend>
                    <p class="govuk-body">
                        We need this so that customers can redeem their Help to Grow: Digital tokens at your website.
                        <a href="@Url.RouteUrl(RouteNameConstants.ProductTechnicalSolutionsGet)" id="runReport" target="_blank">Redemption URL tech guidance.</a>
                    </p>
                    <div class="govuk-form-group">
                        <label class="govuk-label" for="RedemptionUrl">
                            Product redemption URL
                        </label>
                        <div class="@String.Format("govuk-form-group {0}", Model.ShowValidationError ? "govuk-form-group--error" : "")">
                            @if (Model.ShowValidationError)
                            {
                                <span id="name-of-error-error" class="govuk-error-message">
                                    <span class="govuk-visually-hidden">Error:</span>
                                    @Html.ValidationMessageFor(model => model.RedemptionUrl)
                                </span>
                            }
                            <input asp-for="RedemptionUrl" id="RedemptionUrl" class="govuk-input govuk-!-width-three-quarters">
                        </div>
                    </div>
                </fieldset>
            </div>
            <button class="govuk-button" data-module="govuk-button">Save and return</button>
        </form>
    </div>
</div>